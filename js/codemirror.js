var CodeMirror=function(){function r(a,b){function c(m){return 0<=m&&m<q.size}function d(m){for(var a=q;!a.lines;)for(var g=0;;++g){var b=a.children[g],d=b.chunkSize();if(m<d){a=b;break}m-=d}return a.lines[m]}function e(m,a){ba=!0;for(var g=a-m.height,b=m;b;b=b.parent)b.height+=g}function f(m){var a={line:0,ch:0};Qb(a,{line:q.size-1,ch:d(q.size-1).text.length},Ba(m),a,a);ea=!0}function h(m){var a=oa[C(m,"keyCode")],g=G[l.keyMap].auto,b,d;if(null==a||m.altGraphKey)return g&&(l.keyMap=g.call?g.call(null,
y):g),null;C(m,"altKey")&&(a="Alt-"+a);C(m,"ctrlKey")&&(a="Ctrl-"+a);C(m,"metaKey")&&(a="Cmd-"+a);C(m,"shiftKey")&&(b=Rb("Shift-"+a,l.extraKeys,l.keyMap))?d=!0:b=Rb(a,l.extraKeys,l.keyMap);"string"==typeof b&&(b=jb.propertyIsEnumerable(b)?jb[b]:null);(a=g)&&!(a=b)&&(a=oa[C(m,"keyCode")],a=!("Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a));a&&(l.keyMap=g.call?g.call(null,y):g);if(!b)return!1;g=S;try{l.readOnly&&(Sa=!0),d&&(S=null),b(y)}finally{S=g,Sa=!1}A(m);return!0}function p(){if("nocursor"!=l.readOnly){if(!T){if(l.onFocus)l.onFocus(y);
T=!0;-1==B.className.search(/\bCodeMirror-focused\b/)&&(B.className+=" CodeMirror-focused");Ca||Ta(!0)}Ua();Sb()}}function Da(){if(T){if(l.onBlur)l.onBlur(y);T=!1;fa&&n(function(){fa&&(fa(),fa=null)})();B.className=B.className.replace(" CodeMirror-focused","")}clearInterval(kb);setTimeout(function(){T||(S=null)},150)}function Qb(m,a,g,b,d){if(!Sa){if(U){var c=[];q.iter(m.line,a.line+1,function(m){c.push(m.text)});for(U.addChange(m.line,g.length,c);U.done.length>l.undoDepth;)U.done.shift()}I(m,a,g,
b,d)}}function Tb(m,a,g){for(var b=(m=m.pop())?m.length:0,c=[],ga=0<g?0:b-1,b=0<g?b:-1;ga!=b;ga+=g){var e=m[ga],f=[],k=e.start+e.added;q.iter(e.start,k,function(m){f.push(m.text)});c.push({start:e.start,added:e.old.length,old:f});var l=F({line:e.start+e.old.length-1,ch:sc(f[f.length-1],e.old[e.old.length-1])});I({line:e.start,ch:0},{line:k-1,ch:d(k-1).text.length},e.old,l,l)}ea=!0;a.push(c)}function I(m,a,g,b,c){if(!Sa){var ga=!1,f=ha.length;l.lineWrapping||q.iter(m.line,a.line,function(a){if(a.text.length==
f)return ga=!0});if(m.line!=a.line||1<g.length)ba=!0;var L=a.line-m.line,z=d(m.line),h=d(a.line);if(0==m.ch&&0==a.ch&&""==g[g.length-1]){var n=[],z=null;m.line?(z=d(m.line-1),z.fixMarkEnds(h)):h.fixMarkStarts();for(var x=0,p=g.length-1;x<p;++x)n.push(P.inheritMarks(g[x],z));L&&q.remove(m.line,L,Ea);n.length&&q.insert(m.line,n)}else if(z==h)if(1==g.length)z.replace(m.ch,a.ch,g[0]);else{h=z.split(a.ch,g[g.length-1]);z.replace(m.ch,null,g[0]);z.fixMarkEnds(h);n=[];x=1;for(p=g.length-1;x<p;++x)n.push(P.inheritMarks(g[x],
z));n.push(h);q.insert(m.line+1,n)}else if(1==g.length)z.replace(m.ch,null,g[0]),h.replace(null,a.ch,""),z.append(h),q.remove(m.line+1,L,Ea);else{n=[];z.replace(m.ch,null,g[0]);h.replace(null,a.ch,g[g.length-1]);z.fixMarkEnds(h);x=1;for(p=g.length-1;x<p;++x)n.push(P.inheritMarks(g[x],z));1<L&&q.remove(m.line+1,L-1,Ea);q.insert(m.line+1,n)}if(l.lineWrapping){var r=s.clientWidth/lb()-3;q.iter(m.line,m.line+g.length,function(a){if(!a.hidden){var m=Math.ceil(a.text.length/r)||1;m!=a.height&&e(a,m)}})}else q.iter(m.line,
x+g.length,function(a){a=a.text;a.length>f&&(ha=a,f=a.length,ia=null,ga=!1)}),ga&&(f=0,ha="",ia=null,q.iter(0,q.size,function(a){a=a.text;a.length>f&&(f=a.length,ha=a)}));h=[];L=g.length-L-1;x=0;for(n=Y.length;x<n;++x)p=Y[x],p<m.line?h.push(p):p>a.line&&h.push(p+L);x=m.line+Math.min(g.length,500);tc(m.line,x);h.push(x);Y=h;mb(100);V.push({from:m.line,to:a.line+1,diff:L});m={from:m,to:a,text:g};if(Fa){for(g=Fa;g.next;g=g.next);g.next=m}else Fa=m;Ga(b,c,k.from.line<=Math.min(a.line,a.line+L)?k.from.line:
k.from.line+L,k.to.line<=Math.min(a.line,a.line+L)?k.to.line:k.to.line+L);s.clientHeight&&(K.style.height=q.height*ca()+2*t.offsetTop+"px")}}function da(a,b,g){function d(wa){if(J(wa,b))return wa;if(!J(g,wa))return c;var e=wa.line+a.length-(g.line-b.line)-1,f=wa.ch;wa.line==g.line&&(f+=a[a.length-1].length-(g.ch-(g.line==b.line?b.ch:0)));return{line:e,ch:f}}b=F(b);g=g?F(g):b;a=Ba(a);var c;Ub(a,b,g,function(a){c=a;return{from:d(k.from),to:d(k.to)}});return c}function xa(a,b){Ub(Ba(a),k.from,k.to,function(a){return"end"==
b?{from:a,to:a}:"start"==b?{from:k.from,to:k.from}:{from:k.from,to:a}})}function Ub(a,b,g,d){d=d({line:b.line+a.length-1,ch:1==a.length?a[0].length+b.ch:a[a.length-1].length});Qb(b,g,a,d.from,d.to)}function Vb(a,b){var g=a.line,c=b.line;if(g==c)return d(g).text.slice(a.ch,b.ch);var ib=[d(g).text.slice(a.ch)];q.iter(g+1,c,function(a){ib.push(a.text)});ib.push(d(c).text.slice(0,b.ch));return ib.join("\n")}function M(){return Vb(k.from,k.to)}function Ua(){nb||ob.set(l.pollInterval,function(){pb();O();
T&&Ua();qb()})}function Z(){function a(){pb();O()||b?(nb=!1,Ua()):(b=!0,ob.set(60,a));qb()}var b=!1;nb=!0;ob.set(20,a)}function O(){if(Ca||!T||uc(v)||l.readOnly)return!1;var a=v.value;if(a==ja)return!1;S=null;for(var b=0,g=Math.min(ja.length,a.length);b<g&&ja[b]==a[b];)++b;b<ja.length?k.from={line:k.from.line,ch:k.from.ch-(ja.length-b)}:rb&&w(k.from,k.to)&&(k.to={line:k.to.line,ch:Math.min(d(k.to.line).text.length,k.to.ch+(a.length-b))});xa(a.slice(b),"end");ja=a;return!0}function Ta(a){w(k.from,
k.to)?a&&(ja=v.value=""):(ja="",v.value=M(),v.select())}function D(){"nocursor"!=l.readOnly&&v.focus()}function vc(){if($.getBoundingClientRect){var a=$.getBoundingClientRect();if(!Ha||a.top!=a.bottom){var b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>a.top||a.bottom>b)&&$.scrollIntoView()}}}function ta(){var a=ya(k.inverted?k.from:k.to),b=l.lineWrapping?Math.min(a.x,t.offsetWidth):a.x;return ua(b,a.y,b,a.yBot)}function ua(a,b,g,d){var c=t.offsetLeft,
e=t.offsetTop,f=ca();b+=e;d+=e;a+=c;g+=c;var k=s.clientHeight,h=s.scrollTop,c=!1,e=!0;b<h?(s.scrollTop=Math.max(0,b-2*f),c=!0):d>h+k&&(s.scrollTop=d+f-k,c=!0);b=s.clientWidth;d=s.scrollLeft;f=l.fixedGutter?N.clientWidth:0;a<d+f?(50>a&&(a=0),s.scrollLeft=Math.max(0,a-10-f),c=!0):g>b+d-3&&(s.scrollLeft=g+10-b,c=!0,g>K.clientWidth&&(e=!1));if(c&&l.onScroll)l.onScroll(y);return e}function va(){var a=ca(),b=s.scrollTop-t.offsetTop,g=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+s.clientHeight)/a);return{from:sb(q,
g),to:sb(q,a)}}function pa(a,b){if(s.clientWidth){var g=va();if(!(!0!==a&&0==a.length&&g.from>H&&g.to<Q)){var d=Math.max(g.from-100,0),g=Math.min(q.size,g.to+100);H<d&&20>d-H&&(d=H);Q>g&&20>Q-g&&(g=Math.min(q.size,Q));for(var c=!0===a?[]:Ra([{from:H,to:Q,domStart:0}],a),f=0,k=0;k<c.length;++k){var h=c[k];h.from<d&&(h.domStart+=d-h.from,h.from=d);h.to>g&&(h.to=g);h.from>=h.to?c.splice(k--,1):f+=h.to-h.from}if(f!=g-d){c.sort(function(a,m){return a.domStart-m.domStart});var z=ca(),f=N.style.display;
W.style.display="none";hb(d,g,c);W.style.display=N.style.display="";(k=d!=H||g!=Q||Wb!=s.clientHeight+z)&&(Wb=s.clientHeight+z);H=d;Q=g;Ia=tb(q,d);Va.style.top=Ia*z+"px";s.clientHeight&&(K.style.height=q.height*z+2*t.offsetTop+"px");if(W.childNodes.length!=Q-H)throw Error("BAD PATCH! "+JSON.stringify(c)+" size="+(Q-H)+" nodes="+W.childNodes.length);if(l.lineWrapping){ia=s.clientWidth;var n=W.firstChild,p=!1;q.iter(H,Q,function(a){if(!a.hidden){var m=Math.round(n.offsetHeight/z)||1;a.height!=m&&(e(a,
m),ba=p=!0)}n=n.nextSibling});p&&(K.style.height=q.height*z+2*t.offsetTop+"px")}else null==ia&&(ia=ub(ha)),ia>s.clientWidth?(t.style.width=ia+"px",K.style.width="",K.style.width=s.scrollWidth+"px"):t.style.width=K.style.width="";N.style.display=f;(k||ba)&&Xb();Yb();if(!b&&l.onUpdate)l.onUpdate(y);return!0}}}else H=Q=Ia=0}function Ra(a,b){for(var g=0,d=b.length||0;g<d;++g){for(var c=b[g],e=[],f=c.diff||0,k=0,h=a.length;k<h;++k){var l=a[k];c.to<=l.from&&c.diff?e.push({from:l.from+f,to:l.to+f,domStart:l.domStart}):
c.to<=l.from||c.from>=l.to?e.push(l):(c.from>l.from&&e.push({from:l.from,to:c.from,domStart:l.domStart}),c.to<l.to&&e.push({from:c.to+f,to:l.to+f,domStart:l.domStart+(c.to-l.from)}))}a=e}return a}function hb(a,b,g){if(g.length){for(var d=function(a){var m=a.nextSibling;a.parentNode.removeChild(a);return m},c=0,e=W.firstChild,f=0;f<g.length;++f){for(var k=g[f];k.domStart>c;)e=d(e),c++;for(var h=0,k=k.to-k.from;h<k;++h)e=e.nextSibling,c++}for(;e;)e=d(e)}else W.innerHTML="";var l=g.shift(),e=W.firstChild,
h=a,n=qa.createElement("div");q.iter(a,b,function(a){l&&l.to==h&&(l=g.shift());if(!l||l.from>h){if(a.hidden)var m=n.innerHTML="<pre></pre>";else m="<pre>"+a.getHTML(vb)+"</pre>",a.className&&(m='<div style="position: relative"><pre class="'+a.className+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+m+"</div>");n.innerHTML=m;W.insertBefore(n.firstChild,e)}else e=e.nextSibling;++h})}function Xb(){if(l.gutter||l.lineNumbers){var a=Va.offsetHeight,b=s.clientHeight;
N.style.height=(2>a-b?b:a)+"px";var g=[],d=H;q.iter(H,Math.max(Q,H+1),function(a){if(a.hidden)g.push("<pre></pre>");else{var m=a.gutterMarker,b=l.lineNumbers?d+l.firstLineNumber:null;m&&m.text?b=m.text.replace("%N%",null!=b?b:""):null==b&&(b="\u00a0");g.push(m&&m.style?'<pre class="'+m.style+'">':"<pre>",b);for(m=1;m<a.height;++m)g.push("<br/>&#160;");g.push("</pre>")}++d});N.style.display="none";Ja.innerHTML=g.join("");for(var a=String(q.size).length,b=Ja.firstChild,c=b.textContent||b.innerText||
b.nodeValue||"",e="";c.length+e.length<a;)e+="\u00a0";e&&b.insertBefore(qa.createTextNode(e),b.firstChild);N.style.display="";t.style.marginLeft=N.offsetWidth+"px";ba=!1}}function Yb(){var a=w(k.from,k.to),b=ya(k.from,!0),g=a?b:ya(k.to,!0),d=k.inverted?b:g,c=ca(),e=ra(B),f=ra(W);Ka.style.top=Math.max(0,Math.min(s.offsetHeight,d.y+f.top-e.top))+"px";Ka.style.left=Math.max(0,Math.min(s.offsetWidth,d.x+f.left-e.left))+"px";if(a)$.style.top=d.y+"px",$.style.left=(l.lineWrapping?Math.min(d.x,t.offsetWidth):
d.x)+"px",$.style.display="",Wa.style.display="none";else{var a=b.y==g.y,h="",d=function(a,m,b,g){h+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+m+"px; right: "+b+"px; height: "+g+'px"></div>'};k.from.ch&&0<=b.y&&d(b.x,b.y,a?t.clientWidth-g.x:0,c);b=Math.max(0,b.y+(k.from.ch?c:0));e=Math.min(g.y,t.clientHeight)-b;e>0.2*c&&d(0,b,0,e);a&&k.from.ch||!(g.y<t.clientHeight-0.5*c)||d(0,g.y,t.clientWidth-g.x,c);Wa.innerHTML=h;$.style.display="none";Wa.style.display=
""}}function Zb(a){S=a?S||(k.inverted?k.to:k.from):null}function ka(a,b){var g=S&&F(S);g&&(J(g,a)?a=g:J(b,g)&&(b=g));Ga(a,b);Xa=!0}function Ga(a,b,g,d){Ya=null;null==g&&(g=k.from.line,d=k.to.line);if(!w(k.from,a)||!w(k.to,b)){if(J(b,a)){var c=b;b=a;a=c}a.line!=g&&(a=Za(a,g,k.from.ch));b.line!=d&&(b=Za(b,d,k.to.ch));w(a,b)?k.inverted=!1:w(a,k.to)?k.inverted=!1:w(b,k.from)&&(k.inverted=!0);k.from=a;k.to=b;la=!0}}function Za(a,b,g){function c(b){for(var X=a.line+b,e=1==b?q.size:-1;X!=e;){var f=d(X);
if(!f.hidden){b=a.ch;if(b>g||b>f.text.length)b=f.text.length;return{line:X,ch:b}}X+=b}}return d(a.line).hidden?a.line>=b?c(1)||c(-1):c(-1)||c(1):a}function ma(a,b,g){a=F({line:a,ch:b||0});(g?ka:Ga)(a,a)}function $a(a){return Math.max(0,Math.min(a,q.size-1))}function F(a){if(0>a.line)return{line:0,ch:0};if(a.line>=q.size)return{line:q.size-1,ch:d(q.size-1).text.length};var b=a.ch,g=d(a.line).text.length;return null==b||b>g?{line:a.line,ch:g}:0>b?{line:a.line,ch:0}:a}function wb(a,b){function g(b){if(f==
(0>a?0:h.text.length)){if(b=!b)a:{b=e+a;for(var g=0>a?-1:q.size;b!=g;b+=a){var c=d(b);if(!c.hidden){e=b;h=c;b=!0;break a}}b=void 0}if(b)f=0>a?h.text.length:0;else return!1}else f+=a;return!0}var c=k.inverted?k.from:k.to,e=c.line,f=c.ch,h=d(e);if("char"==b)g();else if("column"==b)g(!0);else if("word"==b)for(c=!1;!(0>a)||g();){if(xb(h.text.charAt(f)))c=!0;else if(c){0>a&&(a=1,g());break}if(0<a&&!g())break}return{line:e,ch:f}}function $b(a){for(var b=d(a.line).text,g=a.ch,c=a.ch;0<g&&xb(b.charAt(g-1));)--g;
for(;c<b.length&&xb(b.charAt(c));)++c;ka({line:a.line,ch:g},{line:a.line,ch:c})}function Pb(a){ka({line:a,ch:0},{line:a,ch:d(a).text.length})}function ab(a,b){b||(b="add");if("smart"==b)if(E.indent)var g=bb(a);else b="prev";var c=d(a),e=c.indentation(l.tabSize),f=c.text.match(/^\s*/)[0],h;"prev"==b?h=a?d(a-1).indentation(l.tabSize):0:"smart"==b?h=E.indent(g,c.text.slice(f.length),c.text):"add"==b?h=e+l.indentUnit:"subtract"==b&&(h=e-l.indentUnit);h=Math.max(0,h);if(h-e){e="";g=0;if(l.indentWithTabs)for(c=
Math.floor(h/l.tabSize);c;--c)g+=l.tabSize,e+="\t";for(;g<h;)++g,e+=" "}else{if(k.from.line!=a&&k.to.line!=a)return;e=f}da(e,{line:a,ch:0},{line:a,ch:f.length})}function ac(){E=r.getMode(l,l.mode);q.iter(0,q.size,function(a){a.stateAfter=null});Y=[0];mb()}function wc(a,b){if(l.lineWrapping){B.className+=" CodeMirror-wrap";var g=s.clientWidth/lb()-3;q.iter(0,q.size,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/g)||1;1!=b&&e(a,b)}});t.style.width=K.style.width=""}else B.className=B.className.replace(" CodeMirror-wrap",
""),ia=null,ha="",q.iter(0,q.size,function(a){1==a.height||a.hidden||e(a,1);a.text.length>ha.length&&(ha=a.text)});V.push({from:0,to:q.size})}function bc(){for(var a='<span class="cm-tab">',b=0;b<l.tabSize;++b)a+=" ";return a+"</span>"}function xc(){vb=bc();pa(!0)}function cc(){s.className=s.className.replace(/\s*cm-s-\w+/g,"")+l.theme.replace(/(^|\s)\s*/g," cm-s-")}function yb(){this.set=[]}function zb(a,b,g){function c(a,b,m,g){d(a).addMark(new cb(b,m,g,e.set))}a=F(a);b=F(b);var e=new yb;if(a.line==
b.line)c(a.line,a.ch,b.ch,g);else{c(a.line,a.ch,null,g);for(var f=a.line+1,h=b.line;f<h;++f)c(f,null,null,g);c(b.line,null,b.ch,g)}V.push({from:a.line,to:b.line+1});return e}function dc(a,b){var g=a,c=a;"number"==typeof a?c=d($a(a)):g=La(a);if(null!=g&&b(c,g))V.push({from:g,to:g+1});else return null;return c}function ec(a,b){return dc(a,function(a,m){if(a.hidden!=b){a.hidden=b;e(a,b?0:1);var c=k.from.line,d=k.to.line;!b||c!=m&&d!=m||(c=c==m?Za({line:c,ch:0},c,0):k.from,d=d==m?Za({line:d,ch:0},d,0):
k.to,Ga(c,d));return ba=!0}})}function ub(a){na.innerHTML="<pre><span>x</span></pre>";na.firstChild.firstChild.firstChild.nodeValue=a;return na.firstChild.firstChild.offsetWidth||10}function fc(a,b){if(0==b)return{top:0,left:0};var g="";l.lineWrapping&&(g=a.text.indexOf(" ",b+2),g=aa(a.text.slice(b+1,0>g?a.text.length:g+(Ha?5:0))));na.innerHTML="<pre>"+a.getHTML(vb,b)+'<span id="CodeMirror-temp-'+gc+'">'+aa(a.text.charAt(b)||" ")+"</span>"+g+"</pre>";var g=document.getElementById("CodeMirror-temp-"+
gc),c=g.offsetTop,d=g.offsetLeft;Ha&&(0==c&&0==d)&&(c=document.createElement("span"),c.innerHTML="x",g.parentNode.insertBefore(c,g.nextSibling),c=c.offsetTop);return{top:c,left:d}}function ya(a,b){var g,c=ca(),e=c*(tb(q,a.line)-(b?Ia:0));if(0==a.ch)g=0;else{var f=fc(d(a.line),a.ch);g=f.left;l.lineWrapping&&(e+=Math.max(0,f.top))}return{x:g,y:e,yBot:e+c}}function Ab(a,b){function g(a){a=fc(k,a);if(p){var b=Math.round(a.top/c);return Math.max(0,a.left+(b-r)*s.clientWidth)}return a.left}0>b&&(b=0);var c=
ca(),e=lb(),f=Ia+Math.floor(b/c),h=sb(q,f);if(h>=q.size)return{line:q.size-1,ch:d(q.size-1).text.length};var k=d(h),n=k.text,p=l.lineWrapping,r=p?f-tb(q,h):0;if(0>=a&&0==r)return{line:h,ch:0};for(var x=f=0,n=n.length,t,e=Math.min(n,Math.ceil((a+0.9*r*s.clientWidth)/e));;){var D=g(e);if(D<=a&&e<n)e=Math.min(n,Math.ceil(1.2*e));else{t=D;n=e;break}}if(a>t)return{line:h,ch:n};e=Math.floor(0.8*n);D=g(e);D<a&&(f=e,x=D);for(;;){if(1>=n-f)return{line:h,ch:t-a>a-x?f:n};e=Math.ceil((f+n)/2);D=g(e);D>a?(n=e,
t=D):(f=e,x=D)}}function hc(a){a=ya(a,!0);var b=ra(t);return{x:b.left+a.x,y:b.top+a.y,yBot:b.top+a.yBot}}function ca(){if(null==sa){sa="<pre>";for(var a=0;49>a;++a)sa+="x<br/>";sa+="x</pre>"}a=W.clientHeight;if(a==ic)return Bb;ic=a;na.innerHTML=sa;Bb=na.firstChild.offsetHeight/50||1;na.innerHTML="";return Bb}function lb(){if(s.clientWidth==jc)return kc;jc=s.clientWidth;return kc=ub("x")}function za(a,b){var g=ra(s,!0),c,d;try{c=a.clientX,d=a.clientY}catch(e){return null}if(!b&&(c-g.left>s.clientWidth||
d-g.top>s.clientHeight))return null;g=ra(t,!0);return Ab(c-g.left,d-g.top)}function lc(a){function b(){var a=Ba(v.value).join("\n");a!=e&&n(xa)(a,"end");Ka.style.position="relative";v.style.cssText=d;Ca=!1;Ta(!0);Ua()}var c=za(a);if(c&&!window.opera){(w(k.from,k.to)||J(c,k.from)||!J(c,k.to))&&n(ma)(c.line,c.ch);var d=v.style.cssText;Ka.style.position="absolute";v.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
Ca=!0;var e=v.value=M();D();v.select();if(Cb){Ma(a);var f=u(window,"mouseup",function(){f();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Sb(){clearInterval(kb);var a=!0;$.style.visibility="";kb=setInterval(function(){$.style.visibility=(a=!a)?"":"hidden"},650)}function mc(a){function b(a,m,c){if(a.text){var g=a.styles;a=l?0:a.text.length-1;for(var d,e=l?0:g.length-2,f=l?g.length:-2;e!=f;e+=2*p){var h=g[e];if(null!=g[e+1]&&g[e+1]!=x)a+=p*h.length;else for(var X=l?0:h.length-1,k=l?h.length:
-1;X!=k;X+=p,a+=p)if(a>=m&&a<c&&Da.test(d=h.charAt(X))){var n=Db[d];if(">"==n.charAt(1)==l)t.push(d);else{if(t.pop()!=n.charAt(0))return{pos:a,match:!1};if(!t.length)return{pos:a,match:!0}}}}}}var c=k.inverted?k.from:k.to,e=d(c.line),f=c.ch-1,h=0<=f&&Db[e.text.charAt(f)]||Db[e.text.charAt(++f)];if(h){h.charAt(0);for(var l=">"==h.charAt(1),p=l?1:-1,s=e.styles,D=f+1,h=0,r=s.length;h<r;h+=2)if(0>=(D-=s[h].length)){var x=s[h+1];break}for(var t=[e.text.charAt(f)],Da=/[(){}[\]]/,h=c.line,r=l?Math.min(h+
100,q.size):Math.max(-1,h-100);h!=r;h+=p){var e=d(h),v=h==c.line;if(v=b(e,v&&l?f+1:0,v&&!l?f:e.text.length))break}v||(v={pos:null,match:!1});var x=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",u=zb({line:c.line,ch:f},{line:c.line,ch:f+1},x),y=null!=v.pos&&zb({line:h,ch:v.pos},{line:h,ch:v.pos+1},x),c=n(function(){u.clear();y&&y.clear()});a?setTimeout(c,800):fa=c}}function nc(a){var b,c,e=a;for(a-=40;e>a;--e){if(0==e)return 0;var f=d(e-1);if(f.stateAfter)return e;f=f.indentation(l.tabSize);
if(null==c||b>f)c=e-1,b=f}return c}function bb(a){var b=nc(a),c=b&&d(b-1).stateAfter,c=c?Aa(E,c):Eb(E);q.iter(b,a,function(a){a.highlight(E,c,l.tabSize);a.stateAfter=Aa(E,c)});b<a&&V.push({from:b,to:a});a<q.size&&!d(a).stateAfter&&Y.push(a);return c}function tc(a,b){var c=bb(a);q.iter(a,b,function(a){a.highlight(E,c,l.tabSize);a.stateAfter=Aa(E,c)})}function yc(){for(var a=+new Date+l.workTime,b=Y.length;Y.length;){var c=d(H).stateAfter?Y.pop():H;if(!(c>=q.size)){var e=nc(c),f=e&&d(e-1).stateAfter,
f=f?Aa(E,f):Eb(E),h=0,k=E.compareStates,n=!1,p=e,s=!1;q.iter(p,q.size,function(b){var d=b.stateAfter;if(+new Date>a)return Y.push(p),mb(l.workDelay),n&&V.push({from:c,to:p+1}),s=!0;var e=b.highlight(E,f,l.tabSize);e&&(n=!0);b.stateAfter=Aa(E,f);if(k){if(d&&k(d,f))return!0}else if(!1!==e||!d)h=0;else if(3<++h&&(!E.indent||E.indent(d,"")==E.indent(f,"")))return!0;++p});if(s)return;n&&V.push({from:c,to:p+1})}}if(b&&l.onHighlightComplete)l.onHighlightComplete(y)}function mb(a){Y.length&&zc.set(a,n(yc))}
function pb(){ea=Xa=Fa=null;V=[];la=!1;Ea=[]}function qb(){var a=!1,b;la&&(a=!ta());V.length?b=pa(V,!0):(la&&Yb(),ba&&Xb());a&&ta();la&&(vc(),Sb());T&&(!Ca&&(!0===ea||!1!==ea&&la))&&Ta(Xa);la&&l.matchBrackets&&setTimeout(n(function(){fa&&(fa(),fa=null);w(k.from,k.to)&&mc(!1)}),20);var c=Fa,a=Ea;if(la&&l.onCursorActivity)l.onCursorActivity(y);if(c&&l.onChange&&y)l.onChange(y,c);for(c=0;c<a.length;++c)a[c](y);if(b&&l.onUpdate)l.onUpdate(y)}function n(a){return function(){oc++||pb();try{var b=a.apply(this,
arguments)}finally{--oc||qb()}return b}}var l={},Fb=r.defaults,Na;for(Na in Fb)Fb.hasOwnProperty(Na)&&(l[Na]=(b&&b.hasOwnProperty(Na)?b:Fb)[Na]);var qa=l.document,B=qa.createElement("div");B.className="CodeMirror"+(l.lineWrapping?" CodeMirror-wrap":"");B.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden; outline: 5px auto none"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(B):a(B);var Ka=B.firstChild,v=Ka.firstChild,s=B.lastChild,K=s.firstChild,Va=K.firstChild,N=Va.firstChild,Ja=N.firstChild,t=N.nextSibling.firstChild,na=t.firstChild,$=na.nextSibling,Wa=$.nextSibling,W=Wa.nextSibling;cc();pc&&(v.style.width="0px");Gb||(t.draggable=!0);t.style.outline="none";null!=l.tabindex&&(v.tabIndex=l.tabindex);l.gutter||l.lineNumbers||(N.style.display="none");try{ub("x")}catch(Hb){throw Hb.message.match(/runtime/i)&&(Hb=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),
Hb;}var ob=new Ib,zc=new Ib,kb,E,q=new db([new eb([new P("")])]),Y,T;ac();var k={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},S,fb,Oa,Jb=0,Kb,rb=!1,Sa=!1,ea,Xa,V,Fa,la,Ca,ba,Ea,Ia=0,H=0,Q=0,Wb=0,fa,ha="",ia,vb=bc();n(function(){f(l.value||"");ea=!1})();var U=new Lb;u(s,"mousedown",n(function(a){function b(a){var c=za(a,!0);if(c&&!w(c,e)){T||p();e=c;ka(d,c);ea=!1;var m=va();if(c.line>=m.to||c.line<m.from)f=setTimeout(n(function(){b(a)}),150)}}Zb(C(a,"shiftKey"));for(var c=a.target||a.srcElement;c!=
B;c=c.parentNode)if(c.parentNode==K&&c!=Va)return;for(c=a.target||a.srcElement;c!=B;c=c.parentNode)if(c.parentNode==Ja){if(l.onGutterClick)l.onGutterClick(y,Pa(Ja.childNodes,c)+H,a);return A(a)}var d=za(a);switch(Ac(a)){case 3:Cb&&!Mb&&lc(a);return;case 2:d&&ma(d.line,d.ch,!0);return}if(d){T||p();c=+new Date;if(Oa&&Oa.time>c-400&&w(Oa.pos,d))return A(a),setTimeout(D,20),Pb(d.line);if(fb&&fb.time>c-400&&w(fb.pos,d))return Oa={time:c,pos:d},A(a),$b(d);fb={time:c,pos:d};var e=d,f;if(!Bc||l.readOnly||
w(k.from,k.to)||J(d,k.from)||J(k.to,d)){A(a);ma(d.line,d.ch,!0);var h=u(qa,"mousemove",n(function(a){clearTimeout(f);A(a);b(a)}),!0),q=u(qa,"mouseup",n(function(a){clearTimeout(f);var b=za(a);b&&ka(d,b);A(a);D();ea=!0;h();q()}),!0)}else{Gb&&(t.draggable=!0);var q=u(qa,"mouseup",n(function(b){Gb&&(t.draggable=!1);Kb=!1;q();10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&&(A(b),ma(d.line,d.ch,!0),D())}),!0);Kb=!0}}else(a.target||a.srcElement)==s&&A(a)}));u(s,"dblclick",n(function(a){for(var b=
a.target||a.srcElement;b!=B;b=b.parentNode)if(b.parentNode==Ja)return A(a);if(b=za(a))Oa={time:+new Date,pos:b},A(a),$b(b)}));u(t,"dragstart",function(a){var b=M();aa(b);a.dataTransfer.setDragImage(R,0,0);a.dataTransfer.setData("Text",b)});u(t,"selectstart",A);Cb||u(s,"contextmenu",lc);u(s,"scroll",function(){Jb=s.scrollTop;pa([]);l.fixedGutter&&(N.style.left=s.scrollLeft+"px");if(l.onScroll)l.onScroll(y)});u(window,"resize",function(){pa(!0)});u(v,"keyup",n(function(a){l.onKeyEvent&&l.onKeyEvent(y,
Nb(a))||16==C(a,"keyCode")&&(S=null)}));u(v,"input",Z);u(v,"keydown",n(function(a){T||p();Ha&&27==a.keyCode&&(a.returnValue=!1);if(!l.onKeyEvent||!l.onKeyEvent(y,Nb(a))){var b=C(a,"keyCode");Zb(16==b||C(a,"shiftKey"));var c=h(a);window.opera&&(Ob=c?b:null,!c&&(88==b&&C(a,Mb?"metaKey":"ctrlKey"))&&xa(""))}}));u(v,"keypress",n(function(a){var b=C(a,"keyCode"),c=C(a,"charCode");window.opera&&b==Ob?(Ob=null,A(a)):l.onKeyEvent&&l.onKeyEvent(y,Nb(a))||window.opera&&!a.which&&h(a)||(l.electricChars&&(E.electricChars&&
l.smartIndent&&!l.readOnly)&&(a=String.fromCharCode(null==c?b:c),-1<E.electricChars.indexOf(a)&&setTimeout(n(function(){ab(k.to.line,"smart")}),75)),Z())}));u(v,"focus",p);u(v,"blur",Da);u(s,"dragenter",Ma);u(s,"dragover",Ma);u(s,"drop",n(function(a){a.preventDefault();var b=za(a,!0),c=a.dataTransfer.files;if(b&&!l.readOnly)if(c&&c.length&&window.FileReader&&window.File){a=function(a,c){var m=new FileReader;m.onload=function(){e[c]=m.result;++f==d&&(b=F(b),n(function(){var a=da(e.join(""),b,b);ka(b,
a)})())};m.readAsText(a)};for(var d=c.length,e=Array(d),f=0,h=0;h<d;++h)a(c[h],h)}else try{if(e=a.dataTransfer.getData("Text")){var h=k.from,p=k.to;ka(b,b);Kb&&da("",h,p);xa(e);D()}}catch(q){}}));u(s,"paste",function(){D();Z()});u(v,"paste",Z);u(v,"cut",n(function(){l.readOnly||xa("")}));var qc;try{qc=qa.activeElement==v}catch(Cc){}qc?setTimeout(p,20):Da();var y=B.CodeMirror={getValue:function(a){var b=[];q.iter(0,q.size,function(a){b.push(a.text)});return b.join("\n")},setValue:n(f),getSelection:M,
replaceSelection:n(xa),focus:function(){D();p();Z()},setOption:function(a,b){var c=l[a];l[a]=b;"mode"==a||"indentUnit"==a?ac():"readOnly"==a&&"nocursor"==b?(Da(),v.blur()):"readOnly"!=a||b?"theme"==a?cc():"lineWrapping"==a&&c!=b?n(wc)():"tabSize"==a&&n(xc)():Ta(!0);"lineNumbers"!=a&&"gutter"!=a&&"firstLineNumber"!=a&&"theme"!=a||pa(!0)},getOption:function(a){return l[a]},undo:n(function(){Tb(U.done,U.undone,-1)}),redo:n(function(){Tb(U.undone,U.done,1)}),indentLine:n(function(a,b){"string"!=typeof b&&
(b=null==b?l.smartIndent?"smart":"prev":b?"add":"subtract");c(a)&&ab(a,b)}),indentSelection:n(function(a){if(w(k.from,k.to))return ab(k.from.line,a);for(var b=k.to.line-(k.to.ch?0:1),c=k.from.line;c<=b;++c)ab(c,a)}),historySize:function(){return{undo:U.done.length,redo:U.undone.length}},clearHistory:function(){U=new Lb},matchBrackets:n(function(){mc(!0)}),getTokenAt:n(function(a){a=F(a);return d(a.line).getTokenAt(E,bb(a.line),a.ch)}),getStateAfter:function(a){a=$a(null==a?q.size-1:a);return bb(a+
1)},cursorCoords:function(a){null==a&&(a=k.inverted);return hc(a?k.from:k.to)},charCoords:function(a){return hc(F(a))},coordsChar:function(a){var b=ra(t);return Ab(a.x-b.left,a.y-b.top)},markText:n(zb),setBookmark:function(a){a=F(a);var b=new rc(a.ch);d(a.line).addMark(b);return b},setMarker:n(function(a,b,c){"number"==typeof a&&(a=d($a(a)));a.gutterMarker={text:b,style:c};ba=!0;return a}),clearMarker:n(function(a){"number"==typeof a&&(a=d($a(a)));a.gutterMarker=null;ba=!0}),setLineClass:n(function(a,
b){return dc(a,function(a){if(a.className!=b)return a.className=b,!0})}),hideLine:n(function(a){return ec(a,!0)}),showLine:n(function(a){return ec(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!c(a))return null;a=d(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!c(a))return null;var b=a;a=d(a);if(!a)return null}else if(b=La(a),null==b)return null;var e=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:e&&e.text,markerClass:e&&
e.style,lineClass:a.className}},addWidget:function(a,b,c,d,e){a=ya(F(a));var f=a.yBot,h=a.x;b.style.position="absolute";K.appendChild(b);if("over"==d)f=a.y;else if("near"==d){d=Math.max(s.offsetHeight,q.height*ca());var k=Math.max(K.clientWidth,t.clientWidth)-t.offsetLeft;a.yBot+b.offsetHeight>d&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight);h+b.offsetWidth>k&&(h=k-b.offsetWidth)}b.style.top=f+t.offsetTop+"px";b.style.left=b.style.right="";"right"==e?(h=K.clientWidth-b.offsetWidth,b.style.right="0px"):
("left"==e?h=0:"middle"==e&&(h=(K.clientWidth-b.offsetWidth)/2),b.style.left=h+t.offsetLeft+"px");c&&ua(h,f,h+b.offsetWidth,f+b.offsetHeight)},lineCount:function(){return q.size},clipPos:F,getCursor:function(a){null==a&&(a=k.inverted);return{line:(a?k.from:k.to).line,ch:(a?k.from:k.to).ch}},somethingSelected:function(){return!w(k.from,k.to)},setCursor:n(function(a,b,c){null==b&&"number"==typeof a.line?ma(a.line,a.ch,c):ma(a,b,c)}),setSelection:n(function(a,b,c){(c?ka:Ga)(F(a),F(b||a))}),getLine:function(a){if(c(a))return d(a).text},
getLineHandle:function(a){if(c(a))return d(a)},setLine:n(function(a,b){c(a)&&da(b,{line:a,ch:0},{line:a,ch:d(a).text.length})}),removeLine:n(function(a){c(a)&&da("",{line:a,ch:0},F({line:a+1,ch:0}))}),replaceRange:n(da),getRange:function(a,b){return Vb(F(a),F(b))},execCommand:function(a){return jb[a](y)},moveH:n(function(a,b){var c=0>a?k.from:k.to;if(S||w(k.from,k.to))c=wb(a,b);ma(c.line,c.ch,!0)}),deleteH:n(function(a,b){w(k.from,k.to)?0>a?da("",wb(a,b),k.to):da("",k.from,wb(a,b)):da("",k.from,k.to);
Xa=!0}),moveV:n(function(a,b){var c=0,d=ya(k.inverted?k.from:k.to,!0);null!=Ya&&(d.x=Ya);"page"==b?c=Math.min(s.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=ca());c=Ab(d.x,d.y+c*a+2);ma(c.line,c.ch,!0);Ya=d.x}),toggleOverwrite:function(){rb=!rb},posFromIndex:function(a){var b=0,c;q.iter(0,q.size,function(d){d=d.text.length+1;if(d>a)return c=a,!0;a-=d;++b});return F({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;q.iter(0,a.line,
function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(s.scrollTop=a);null!=b&&(s.scrollLeft=b);pa([])},operation:function(a){return n(a)()},refresh:function(){pa(!0);s.scrollHeight>Jb&&(s.scrollTop=Jb)},getInputField:function(){return v},getWrapperElement:function(){return B},getScrollerElement:function(){return s},getGutterElement:function(){return N}},Ob=null,nb=!1,ja="",Ya=null;yb.prototype.clear=n(function(){for(var a=Infinity,b=-Infinity,c=0,d=this.set.length;c<d;++c){var e=
this.set[c],f=e.marked;if(f&&e.parent)for(e=La(e),a=Math.min(a,e),b=Math.max(b,e),e=0;e<f.length;++e)f[e].set==this.set&&f.splice(e--,1)}Infinity!=a&&V.push({from:a,to:b+1})});yb.prototype.find=function(){for(var a,b,c=0,d=this.set.length;c<d;++c)for(var e=this.set[c],f=e.marked,h=0;h<f.length;++h){var k=f[h];if(k.set==this.set&&(null!=k.from||null!=k.to)){var l=La(e);null!=l&&(null!=k.from&&(a={line:l,ch:k.from}),null!=k.to&&(b={line:l,ch:k.to}))}}return{from:a,to:b}};var gc=Math.floor(16777215*
Math.random()).toString(16),Bb,ic,sa,kc,jc=0,Db={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},oc=0,Qa;for(Qa in gb)gb.propertyIsEnumerable(Qa)&&!y.propertyIsEnumerable(Qa)&&(y[Qa]=gb[Qa]);return y}function Rb(a,b,c){function d(a,b,c){var p=b[a];if(null!=p)return p;null==c&&(c=b.fallthrough);if(null==c)return b.catchall;if("string"==typeof c)return d(a,G[c]);b=0;for(var r=c.length;b<r;++b)if(p=d(a,G[c[b]]),null!=p)return p;return null}return b?d(a,b,c):d(a,G[c])}function Aa(a,b){if(!0===
b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c}function Eb(a,b,c){return a.startState?a.startState(b,c):!0}function ta(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function cb(a,b,c,d){this.from=a;this.to=b;this.style=c;this.set=d}function rc(a){this.to=this.from=a;this.line=null}function P(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=
this.gutterMarker=this.className=this.handlers=null}function ua(a,b,c,d){for(var e=0,f=0,h=0;f<b;e+=2){var p=c[e],r=f+p.length;0==h?(r>a&&d.push(p.slice(a-f,Math.min(p.length,b-f)),c[e+1]),r>=a&&(h=1)):1==h&&(r>b?d.push(p.slice(0,b-f),c[e+1]):d.push(p,c[e+1]));f=r}}function eb(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function db(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;d<e;++d){var f=a[d],b=b+f.chunkSize(),c=c+f.height;
f.parent=this}this.size=b;this.height=c;this.parent=null}function La(a){if(null==a.parent)return null;var b=a.parent;a=Pa(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();return a}function sb(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],h=f.height;if(b<h){a=f;continue a}b-=h;c+=f.chunkSize()}return c}while(!a.lines);d=0;for(e=a.lines.length;d<e;++d){f=a.lines[d].height;if(b<f)break;b-=f}return c+d}function tb(a,
b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],h=f.chunkSize();if(b<h){a=f;continue a}b-=h;c+=f.height}return c}while(!a.lines);for(d=0;d<b;++d)c+=a.lines[d].height;return c}function Lb(){this.time=0;this.done=[];this.undone=[]}function Pb(){Ma(this)}function Nb(a){a.stop||(a.stop=Pb);return a}function A(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function hb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ma(a){A(a);hb(a)}function Ac(a){if(a.which)return a.which;
if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function C(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function u(a,b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};a.attachEvent("on"+b,e);if(d)return function(){a.detachEvent("on"+b,e)}}}function Ib(){this.id=null}function Ra(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=
a.length));for(var d=0,e=0;d<b;++d)"\t"==a.charAt(d)?e+=c-e%c:++e;return e}function ra(a,b){for(var c=a.ownerDocument.body,d=0,e=0,f=!1,h=a;h;h=h.offsetParent){var p=h.offsetLeft,r=h.offsetTop;h==c?(d+=Math.abs(p),e+=Math.abs(r)):(d+=p,e+=r);if(p=b)p=h.currentStyle?h.currentStyle:window.getComputedStyle(h,null),p="fixed"==p.position;p&&(f=!0)}c=b&&!f?null:c;for(h=a.parentNode;h!=c;h=h.parentNode)null!=h.scrollLeft&&(d-=h.scrollLeft,e-=h.scrollTop);return{left:d,top:e}}function w(a,b){return a.line==
b.line&&a.ch==b.ch}function J(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function aa(a){R.textContent=a;return R.innerHTML}function sc(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;0<=c&&0<=d&&a.charAt(c)==b.charAt(d);--c,--d);return d+1}function Pa(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function xb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}r.defaults={value:"",mode:null,theme:"default",indentUnit:2,
indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var pc=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),
Mb=pc||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var va={},O={};r.defineMode=function(a,b){r.defaults.mode||"null"==a||(r.defaults.mode=a);va[a]=b};r.defineMIME=function(a,b){O[a]=b};r.getMode=function(a,b){"string"==typeof b&&O.hasOwnProperty(b)&&(b=O[b]);if("string"==typeof b)var c=b,d={};else null!=b&&(c=b.name,d=b);var e=va[c];return e?e(a,d||{}):(window.console&&console.warn("No mode "+c+" found, falling back to plain text."),r.getMode(a,"text/plain"))};r.listModes=function(){var a=
[],b;for(b in va)va.propertyIsEnumerable(b)&&a.push(b);return a};r.listMIMEs=function(){var a=[],b;for(b in O)O.propertyIsEnumerable(b)&&a.push({mime:b,mode:O[b]});return a};var gb=r.extensions={};r.defineExtension=function(a,b){gb[a]=b};var jb=r.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!w(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:{line:b.line}):a.replaceRange("",b,{line:b.line+
1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},
null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,
"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n",
"end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},G=r.keyMap={};G.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};G.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};G.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo",
"Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};G["default"]=Mb?G.macDefault:G.pcDefault;G.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft",
"Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};r.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(a.form){var d=u(a.form,"submit",c,!0);
if("function"==typeof a.form.submit){var e=a.form.submit,f=function(){c();a.form.submit=e;a.form.submit();a.form.submit=f};a.form.submit=f}}a.style.display="none";var h=r(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";a.form&&(d(),"function"==typeof a.form.submit&&(a.form.submit=e))};return h};r.copyState=Aa;r.startState=Eb;ta.prototype={eol:function(){return this.pos>=
this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Ra(this.string,this.start,this.tabSize)},indentation:function(){return Ra(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else return(a=this.string.slice(this.pos).match(a))&&
!1!==b&&(this.pos+=a[0].length),a},current:function(){return this.string.slice(this.start,this.pos)}};r.StringStream=ta;cb.prototype={attach:function(a){this.set.push(a)},detach:function(a){a=Pa(this.set,a);-1<a&&this.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new cb(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.set)},dup:function(){return new cb(null,null,this.style,this.set)},clipTo:function(a,b,c,d,e){null!=this.from&&
this.from>=b&&(this.from=Math.max(d,this.from)+e);null!=this.to&&this.to>b&&(this.to=d<this.to?this.to+e:b);a&&(d>this.from&&(d<this.to||null==this.to))&&(this.from=null);c&&((b<this.to||null==this.to)&&(b>this.from||null==this.from))&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.set==a.set}};rc.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=
this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,d,e){(a||b<this.from)&&(c||d>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(d,this.from)+e)},sameSet:function(a){return!1},find:function(){return this.line&&this.line.parent?{line:La(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=Pa(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};P.inheritMarks=function(a,b){var c=new P(a),d=b&&
b.marked;if(d)for(var e=0;e<d.length;++e)if(null==d[e].to&&d[e].style){var f=c.marked||(c.marked=[]),h=d[e].dup();f.push(h);h.attach(c)}return c};P.prototype={replace:function(a,b,c){var d=[],e=this.marked,f=null==b?this.text.length:b;ua(0,a,this.styles,d);c&&d.push(c,null);ua(f,this.text.length,this.styles,d);this.styles=d;this.text=this.text.slice(0,a)+c+this.text.slice(f);this.stateAfter=null;if(e)for(c=c.length-(f-a),d=0;d<e.length;++d){var h=e[d];h.clipTo(null==a,a||0,null==b,f,c);h.isDead()&&
(h.detach(this),e.splice(d--,1))}},split:function(a,b){var c=[b,null],d=this.marked;ua(a,this.text.length,this.styles,c);c=new P(b+this.text.slice(a),c);if(d)for(var e=0;e<d.length;++e){var f=d[e].split(a,b.length);f&&(c.marked||(c.marked=[]),c.marked.push(f),f.attach(c))}return c},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;this.text+=a.text;ua(0,a.text.length,a.styles,this.styles);if(d)for(a=0;a<d.length;++a)null==d[a].to&&(d[a].to=b);if(c&&c.length)a:for(d||(this.marked=
d=[]),a=0;a<c.length;++a){var e=c[a];if(!e.from)for(var f=0;f<d.length;++f){var h=d[f];if(h.to==b&&h.sameSet(e)){h.to=null==e.to?null:e.to+b;h.isDead()&&(h.detach(this),c.splice(a--,1));continue a}}d.push(e);e.attach(this);e.from+=b;null!=e.to&&(e.to+=b)}},fixMarkEnds:function(a){var b=this.marked;a=a.marked;if(b)for(var c=0;c<b.length;++c){var d=b[c],e=null==d.to;if(e&&a)for(var f=0;f<a.length;++f)if(a[f].sameSet(d)){e=!1;break}e&&(d.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;
if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=[]);this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){c=new ta(this.text,c);var d=this.styles,e=0,f=!1,h=d[0],p;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var r=a.token(c,b),u=this.text.slice(c.start,c.pos);c.start=c.pos;e&&d[e-1]==r?d[e-2]+=u:u&&(!f&&(d[e+1]!=r||e&&d[e-2]!=p)&&(f=!0),d[e++]=u,
d[e++]=r,p=h,h=d[e]);if(5E3<c.pos){d[e++]=this.text.slice(c.pos);d[e++]=null;break}}d.length!=e&&(d.length=e,f=!0);e&&d[e-2]!=p&&(f=!0);return f||(5>d.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var d=new ta(this.text);d.pos<c&&!d.eol();){d.start=d.pos;var e=a.token(d,b)}return{start:d.start,end:d.pos,string:d.current(),className:e||null,state:b}},indentation:function(a){return Ra(this.text,null,a)},getHTML:function(a,b){function c(b,c){b&&(f&&(Ha&&" "==b.charAt(0))&&(b="\u00a0"+
b.slice(1)),f=!1,c?e.push('<span class="',c,'">',aa(b).replace(/\t/g,a),"</span>"):e.push(aa(b).replace(/\t/g,a)))}function d(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}var e=[],f=!0,h=this.styles,p=this.text,r=this.marked,u=p.length;null!=b&&(u=Math.min(b,u));if(p||null!=b)if(r&&r.length)for(var w=0,p=0,I="",A=r[0].from||0,C=[],G=0,J=function(){for(var a;G<r.length&&((a=r[G]).from==w||null==a.from);)null!=a.style&&C.push(a),++G;A=G<r.length?r[G].from:Infinity;for(a=0;a<C.length;++a){var b=C[a].to||
Infinity;b==w?C.splice(a--,1):A=Math.min(b,A)}};w<u;){A==w&&J();for(var M=Math.min(u,A);;){if(I){for(var O=w+I.length,Z=R,P=0;P<C.length;++P)Z=(Z?Z+" ":"")+C[P].style;c(O>M?I.slice(0,M-w):I,Z);if(O>=M){I=I.slice(M-w);w=M;break}w=O}I=h[p++];R=d(h[p++])}}else for(I=p=0;I<u;p+=2){var J=h[p],R=h[p+1],M=J.length;I+M>u&&(J=J.slice(0,u-I));I+=M;c(J,d(R))}else c(" ");return e.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};
eb.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;d<e;++d){var f=this.lines[d];this.height-=f.height;f.cleanUp();if(f.handlers)for(var h=0;h<f.handlers.length;++h)c.push(f.handlers[h])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines.splice.apply(this.lines,[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=
a+b;a<b;++a)if(c(this.lines[a]))return!0}};db.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){var h=Math.min(b,f-a),p=e.height;e.remove(a,h,c);this.height-=p-e.height;f==h&&(this.children.splice(d--,1),e.parent=null);if(0==(b-=h))break;a=0}else a-=f}25>this.size-b&&(a=[],this.collapse(a),this.children=[new eb(a)],this.children[0].parent=this)},collapse:function(a){for(var b=
0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],h=f.chunkSize();if(a<=h){f.insertHeight(a,b,c);if(f.lines&&50<f.lines.length){for(;50<f.lines.length;)a=f.lines.splice(f.lines.length-25,25),a=new eb(a),f.height-=a.height,this.children.splice(d+1,0,a),a.parent=
this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new db(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=Pa(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new db(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<
e;++d){var f=this.children[d],h=f.chunkSize();if(a<h){h=Math.min(b,h-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};Lb.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=this.done[this.done.length-1],f=e&&e[e.length-1];if(400<d-this.time||!f)this.done.push([{start:a,added:b,old:c}]);else if(f.start>a+b||f.start+f.added<a-f.added+f.old.length)e.push({start:a,added:b,old:c});else{var h=0;if(a<f.start){for(e=f.start-a-1;0<=e;--e)f.old.unshift(c[e]);f.added+=
f.start-a;f.start=a}else f.start<a&&(h=a-f.start,b+=h);e=f.added-h;for(a=c.length;e<a;++e)f.old.push(c[e]);f.added<b&&(f.added=b)}this.time=d}};r.e_stop=Ma;r.e_preventDefault=A;r.e_stopPropagation=hb;r.connect=u;Ib.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var Bc=/MSIE [1-8]\b/.test(navigator.userAgent)?!1:"draggable"in document.createElement("div"),Cb=/gecko\/\d{7}/i.test(navigator.userAgent),Ha=/MSIE \d/.test(navigator.userAgent),Gb=/WebKit\//.test(navigator.userAgent);
(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(ra=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&&(e=document.body);c.top+=e.scrollTop;c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var R=
document.createElement("pre");"\na"==aa("a")?aa=function(a){R.textContent=a;return R.innerHTML.slice(1)}:"\t"!=aa("\t")&&(aa=function(a){R.innerHTML="";R.appendChild(document.createTextNode(a));return R.innerHTML});r.htmlEscape=aa;var Ba=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,d=[];-1<(c=a.indexOf("\n",b));)d.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;d.push(a.slice(b));return d}:function(a){return a.split(/\r?\n/)};r.splitLines=Ba;var uc=window.getSelection?function(a){try{return a.selectionStart!=
a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};r.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});r.defineMIME("text/plain","null");var oa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",
45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};r.keyNames=oa;(function(){for(var a=0;10>a;a++)oa[a+48]=String(a);for(a=65;90>=a;a++)oa[a]=String.fromCharCode(a);for(a=1;12>=a;a++)oa[a+111]=oa[a+63235]="F"+a})();return r}();